# ============================================================
# ice-frontend Docker Compose 配置 - 测试环境
#
# 使用方式:
#   docker compose -f docker-compose.test.yml up -d
#
# 或指定端口:
#   HOST_PORT=8080 docker compose -f docker-compose.test.yml up -d
#
# 说明:
#   - 此配置使用 dist-test 目录作为前端文件源
#   - 与生产环境 (dist) 分开，方便独立上传和拉取
#   - 可在本地 Windows/Mac/Linux 或云端服务器上运行
# ============================================================

services:
  nginx:
    image: nginx:latest
    container_name: ice-frontend-test
    ports:
      - "${HOST_PORT:-8080}:80"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./dist-test:/var/www/html
    restart: always
    networks:
      - nginx-network-test

networks:
  nginx-network-test:
    driver: bridge
